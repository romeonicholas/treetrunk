/* @font-face {
  font-family: primaryFont;
  src: url("/fonts/NotoSansCherokee-Regular.ttf");
}

@font-face {
  font-family: nameFont;
  src: url("/fonts/Bangers-Regular.ttf");
}

@font-face {
  font-family: tribeFont;
  src: url("/fonts/Enriqueta-Regular.ttf");
} */

/* Z-Index Variables */
:root {
  /* Base layers */
  --z-background: 0;
  --z-figure-select: 0;
  --z-comic-book: 1;
  --z-photo-preview: 2;

  /* Carousel layers */
  --z-carousel-far: 1;
  --z-carousel-middle: 2;
  --z-carousel-center: 3;
  --z-carousel-comic-cover: 5;

  /* UI layers */
  --z-video: 10;
  --z-countdown: 20;
  --z-qr-code: 100;
  --z-spinner: 10000;

  /* Other commonly used values */
  --transition-duration: 1s;
  --carousel-ease-in: cubic-bezier(0.42, 0, 0.87, 0.89);
  --carousel-ease-out: cubic-bezier(0, 0, 0.58, 1);
}

html,
body {
  margin: 0;
  /* overscroll-behavior: none; */
  height: 3840px;
  width: 2160px;
  /* position: fixed; */
  overflow: hidden;
  background-image: url("/images/storySelectorBackground.png");
}

/* div {
  overflow: hidden;
} */

.app-screen {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  /* pointer-events: none; */
  transition: opacity 1s ease-in;
}

.app-screen.active {
  opacity: 1;
  /* pointer-events: auto; */
}

#figure-select-screen {
  z-index: var(--z-figure-select);
}

.figure-carousel-container {
  width: 100%;
}

.text-carousel-container {
  width: 100%;
}

.carousel-text {
  position: absolute;
  transition: transform 0.5s ease-in, opacity 1s ease;
}

.figure-transform-wrapper {
  position: absolute;
  transition: z-index 0s, transform 1s, filter 1s, opacity 1s;
  filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.5));
}

.figure-scale-wrapper {
  transition: transform 1s;
}

/* Transitions */

.ease-in {
  transition: ease-in 1s;
}

.ease-out {
  transition: ease-out 1s;
}

.ease-in-text {
  transition: var(--carousel-ease-in) var(--transition-duration);
}

.ease-out-text {
  transition: var(--carousel-ease-out) var(--transition-duration);
}

/* Scaling */

.off-scale {
  transform: scale(0.5);
}
.far-scale {
  transform: scale(0.56);
}
.middle-scale {
  transform: scale(0.77);
}
.center-scale {
  transform: scale(1);
}

/* Transforms */

.off-left-translate {
  transform: translate(-460px, 400px);
}
.far-left-translate {
  transform: translate(-340px, 400px);
}
.middle-left-translate {
  transform: translate(100px, 400px);
}
.center-translate {
  transform: translate(680px, 400px); /* correct */
}
.middle-right-translate {
  transform: translate(1270px, 400px);
}
.far-right-translate {
  transform: translate(1720px, 400px);
}
.off-right-translate {
  transform: translate(2080px, 400px);
}

/* Focus (filter, z-index, opacity) */

.off-focus {
  filter: brightness(10%) drop-shadow(0 4px 6px rgba(0, 0, 0, 0.5));
  opacity: 0;
}

.far-focus {
  filter: brightness(25%) drop-shadow(0 4px 6px rgba(0, 0, 0, 0.5));
  z-index: var(--z-carousel-far);
}

.middle-focus {
  filter: brightness(50%) drop-shadow(0 4px 6px rgba(0, 0, 0, 0.5));
  z-index: var(--z-carousel-middle);
}
.center-focus {
  filter: brightness(100%) drop-shadow(0 6px 8px rgba(0, 0, 0, 0.7));
  z-index: var(--z-carousel-center);
}

/* Text Carousel Positions */

.off-left-text {
  transform: translate(-1500px, 0);
  opacity: 0;
}

.center-text {
  transform: translate(0, 0);
}
.off-right-text {
  transform: translate(1500px, 0);
  opacity: 0;
}

#comic-book {
  z-index: var(--z-comic-book);
}

.comic-cover-el {
  z-index: var(--z-carousel-comic-cover);
}

.comic-page {
  position: absolute;
  top: 0;
  left: 0;
  clip-path: rect(0 2160px 3600px 0);
  will-change: clip-path; /* Tell browser this property will change */
  transform: translateZ(0); /* Force GPU layer */
  backface-visibility: hidden; /* Prevent flicker */
  contain: layout style paint; /* Isolate rendering context */
  transition: 600ms ease-in;
  transition-delay: 20ms;
}

.comic-page.turned {
  clip-path: rect(0 0 3600px 0);
}

#page-flip {
  background-color: #d0d0d0;
  opacity: 1;
  position: absolute;
  transform: translate(2240px, 0px);
  width: 10px;
  height: 3600px;
  box-shadow: inset -100px 0px 100px rgba(0, 0, 0, 0.15),
    20px 0px 100px rgba(0, 0, 0, 1);
  z-index: 30;
  will-change: transform, width;
  transition: transform 750ms ease-in, width 750ms ease-in;
  backface-visibility: hidden;
}

#page-flip.turned {
  transform: translate(-1110px, 0px);
  width: 1080px;
  height: 3600px;
}

.page-flip-reset {
  transition: none !important;
}

#video-element {
  position: absolute;
  left: 2010px;
  top: 2720px;
  transform-origin: top left;
  transform: scaleX(-1) rotate(-90deg);
}

.photo-review-screen {
  opacity: 0;
  visibility: hidden;
  height: 100%;
  width: 100%;
}

.show {
  opacity: 1;
  visibility: visible;
}

#photo-display-screen {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;

  opacity: 0;
  visibility: hidden;
  transition: opacity 0.5s ease;
}

#canvas-element {
  display: none;
  position: absolute;
  left: 2013px;
  top: 2720px;
  transform-origin: top left;
  transform: scaleX(-1) rotate(-90deg);
}

#selfie-cutout {
  position: absolute;
  left: 700px;
  top: 720px;
  width: 930px;
  height: 2976px;
  z-index: 1;
}

#countdown {
  font-family: primaryFont;
  font-size: 800px;
  color: white;
  position: absolute;
  top: 1250px;
  left: 1250px;
  z-index: var(--z-countdown);
}

#spinner {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: var(--z-spinner);
  display: flex;
  align-items: center;
  justify-content: center;
}

#photo-preview-background {
  position: absolute;
  top: 0;
  left: 0;
  z-index: var(--z-photo-preview);
}

.footer {
  height: 240px;
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
}

#qr-code {
  position: absolute;
  top: 2912px;
  left: 995px;
  width: 400px;
  height: 400px;
  z-index: var(--z-qr-code);
  background: white;
}
